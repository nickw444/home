template:
  binary_sensor:
    - name: "Daytime Load Tesla Can Start Charging"
      unique_id: daytime_load_tesla_can_start_charging
      state: >-
        {{ is_state('device_tracker.tessie', 'home') 
          and is_state('binary_sensor.tessie_charger', 'on') 
          and is_state('input_boolean.daytime_load_tesla_enable_charging', 'on') 
          and states('number.tessie_charge_limit')|float > states('sensor.tessie_battery')|float }}
      availability: >-
        {{ has_value('device_tracker.tessie') 
        and has_value('binary_sensor.tessie_charger')
        and has_value('number.tessie_charge_limit') 
        and has_value('sensor.tessie_battery') 
        }}

input_boolean:
  daytime_load_tesla_enable_charging:
    name: "Daytime Load Tesla Enable Charging"
